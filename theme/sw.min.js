!function(){return function e(t,r,n){function i(c,u){if(!r[c]){if(!t[c]){var s="function"==typeof require&&require;if(!u&&s)return s(c,!0);if(o)return o(c,!0);var a=new Error("Cannot find module '"+c+"'");throw a.code="MODULE_NOT_FOUND",a}var p=r[c]={exports:{}};t[c][0].call(p.exports,function(e){return i(t[c][1][e]||e)},p,p.exports,e,t,r,n)}return r[c].exports}for(var o="function"==typeof require&&require,c=0;c<n.length;c++)i(n[c]);return i}}()({1:[function(e,t,r){t.exports={Server:"http://localhost:5897",StaticServer:"",StaticResourceVersion:"1541077340260",OpenRegister:!0,RuntimeMode:"dev",LogLevel:"debug",ShowSQL:!1,SessionSecret:"BEYOND",SessionMaxAge:86400,SQLite:"",MySQL:"root:123456@(localhost:3306)/pipe?charset=utf8mb4&parseTime=True&loc=Local",StaticRoot:"",Port:"5897",AxiosBaseURL:"/api",MockServer:"http://localhost:8888"}},{}],2:[function(e,t,r){"use strict";var n,i=e("../pipe.json"),o=(n=i)&&n.__esModule?n:{default:n};var c=o.default.StaticResourceVersion,u=o.default.StaticServer||o.default.Server,s=o.default.Server;self.addEventListener("activate",function(e){e.waitUntil(caches.keys().then(function(e){return Promise.all(e.map(async function(e){var t=await navigator.storage.estimate();return"pipe-html"!==e&&"pipe-image"!==e&&e!=="pipe-static-"+c?caches.delete(e):t.usage/t.quota>.8&&("pipe-html"===e||"pipe-image"===e)?(console.log("clear "+e+" cache"),caches.delete(e)):void 0}))}))}),self.addEventListener("fetch",function(e){0===e.request.headers.get("accept").indexOf("text/html")||"*/*"===e.request.headers.get("accept")&&-1===e.request.url.indexOf("/js/")&&!e.request.url.endsWith(".js")||0===e.request.headers.get("accept").indexOf("application/json")&&0===e.request.url.indexOf(s+"/api")?e.respondWith(fetch(e.request).then(function(t){return-1===e.request.url.indexOf(s)?t:caches.open("pipe-html").then(function(r){return"POST"!==e.request.method&&"DELETE"!==e.request.method&&"PUT"!==e.request.method&&r.put(e.request,t.clone()),t})}).catch(function(){return caches.match(e.request)})):e.respondWith(caches.match(e.request).then(function(t){return t||fetch(e.request).then(function(t){return e.request.url.indexOf("https://img.hacpai.com/")>-1?caches.open("pipe-image").then(function(r){return r.put(e.request,t.clone()),t}):e.request.url.indexOf(u)>-1?caches.open("pipe-static-"+c).then(function(r){return r.put(e.request,t.clone()),t}):t}).catch(function(){console.log("fetch "+e.request.url+" error")})}))})},{"../pipe.json":1}]},{},[2]);